{"version":3,"file":"espo-calendar.js","sources":["original/espo-calendar.js"],"names":["define","_exports","_view","_moment","FullCalendar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","cache","has","get","key","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","prototype","hasOwnProperty","call","set","_interopRequireWildcard","CalendarView","template","eventAttributes","colors","allDayScopeList","scopeList","header","modeList","fullCalendarModeList","defaultMode","slotDuration","scrollToNowSlots","scrollHour","titleFormat","month","week","day","rangeSeparator","fetching","modeViewMap","agendaWeek","agendaDay","basicWeek","basicDay","listWeek","extendedProps","calendar","events","click button[data-action=\"prev\"]","this","actionPrevious","click button[data-action=\"next\"]","actionNext","click button[data-action=\"today\"]","actionToday","click [data-action=\"mode\"]","e","mode","$","currentTarget","data","selectMode","click [data-action=\"refresh\"]","actionRefresh","click [data-action=\"toggleScopeFilter\"]","$target","filterName","$check","find","hasClass","removeClass","addClass","stopPropagation","toggleScopeFilter","isCustomViewAvailable","isCustomView","todayLabel","translate","todayLabelShort","slice","setup","wait","Espo","loader","requirePromise","suppressLoadingAlert","options","date","undefined","setupMode","$container","Utils","clone","getMetadata","getConfig","getPreferences","setupScrollHour","getHelper","themeManager","getParam","getAcl","getPermissionLevel","userId","forEach","scope","check","push","enabledScopeList","getStoredEnabledScopeList","toString","item","color","createView","selector","viewMode","teamIdList","length","indexOf","viewId","calendarViewDataList","id","viewName","name","isAgendaMode","previousMode","trigger","$el","changeView","toAgenda","fromAgenda","refetchEvents","updateDate","hasView","getModeButtonsView","reRender","getView","index","splice","storeEnabledScopeList","getStorage","title","isToday","getTitle","text","view","todayUnix","unix","startUnix","activeStart","endUnix","activeEnd","timeGridWeek","timeGridDay","dayGridWeek","dayGridDay","dayGridMonth","type","let","end","format","start","dateToMoment","currentStart","currentEnd","subtract","userName","escapeString","convertToFcEvent","o","event","recordId","dateStart","dateEnd","dateStartDate","dateEndDate","status","originalColor","display","isWorkingRange","groupId","userIdList","userNameMap","sort","v1","v2","localeCompare","attr","getDateTime","toMoment","duration","toISOString","allDay","handleAllDay","fillColor","handleStatus","tz","getTimeZone","getEventTypeCompletedStatusList","getEventTypeCanceledStatusList","getColorFromScopeName","includes","shadeColor","className","percent","getThemeManager","alpha","substring","f","parseInt","t","p","R","G","B","Math","round","notInitial","allDayCopy","hours","minutes","add","toDate","convertToFcEvents","list","now","convertDateTime","internalDateTimeFormat","timeZone","m","utc","getCalculatedHeight","height","calculateContentContainerHeight","adjustSize","isRemoved","setOption","updateSize","afterRender","containerSelector","$calendar","timeFormat","slotLabelFormat","scrollTime","headerToolbar","eventTimeFormat","initialView","defaultRangeSeparator","weekNumbers","weekNumberCalculation","editable","selectable","selectMirror","firstDay","weekStart","slotEventOverlap","slotLabelInterval","snapDuration","longPressDelay","eventColor","nowIndicator","allDayText","weekText","views","dayHeaderFormat","windowResize","select","info","startStr","endStr","createEvent","unselect","eventClick","Ui","notify","removeDisabled","render","listenToOnce","model","removeModel","listenTo","bypassClose","close","updateModel","datesSet","fromIso","getDate","callback","dateTimeFormat","from","to","fromStr","toStr","fetchEvents","eventDrop","delta","attributes","dateString","internalDateFormat","props","obtainPropsFromEvent","getModelFactory","create","save","patch","then","applyPropsToEvent","catch","revert","eventResize","setExtendedProp","eventContent","arg","$content","append","timeText","avatarHtml","getAvatarHtml","$div","css","overflow","html","innerHTML","aspectRatio","contentHeight","initialDate","setTimeout","Calendar","handleScrollToNow","getNowMoment","floor","scrollToTime","values","getToday","assignedUserId","assignedUserName","added","addModel","url","encodeURIComponent","join","agenda","Ajax","getRequest","getClonedAttributes","entityType","addEvent","eventId","getEventById","setDates","setProp","remove","prev","next","additionalColorList","j","i","today"],"mappings":"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"}